<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Primeiro Site</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="#inicio">In√≠cio</a></li>
            <li><a href="#sobre">Sobre</a></li>
            <li><a href="#servicos">Servi√ßos</a></li>
            <li><a href="#contato">Contato</a></li>
        </ul>
    </nav>

    <header id="inicio" class="animacao">
        <h1>Bem-vindo ao Meu Site!</h1>
        <p>Este √© um site moderno e estilizado com CSS.</p>
    </header>

    <section class="container">
        <div class="box animacao" id="sobre">
            <h2>Sobre</h2>
            <p>Este site foi criado como parte do meu aprendizado em desenvolvimento web.</p>
        </div>

        <div class="box animacao" id="servicos">
            <h2>Servi√ßos</h2>
            <p>Cria√ß√£o de sites, blogs e p√°ginas personalizadas para neg√≥cios e projetos.</p>
        </div>

        <div class="box animacao" id="contato">
            <h2>Contato</h2>
            <p>Preencha o formul√°rio abaixo para entrar em contato.</p>
        </div>
    </section>

    <form id="form-contato">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>

        <label for="email">E-mail:</label>
        <input type="email" id="email" name="_replyto" required>

        <label for="mensagem">Mensagem:</label>
        <textarea id="mensagem" name="mensagem" required></textarea>

        <button type="submit">Enviar</button>
    </form>

    <p id="mensagem-sucesso" style="display: none; color: green; font-weight: bold;">Mensagem enviada com sucesso!</p>

    <footer>
        <p>&copy; 2024 Meu Site. Todos os direitos reservados.</p>
    </footer>

    <button id="btn-topo">‚Üë</button>

    <!-- Firebase SDK (Vers√£o Compat√≠vel) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
        console.log("üöÄ Firebase carregado diretamente pelo index.html!");

        // Configura√ß√£o do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCe_AbmxlZYUDAaatxQ3FH5h6ZeiAK1Qq4",
            authDomain: "meusite-132ec.firebaseapp.com",
            projectId: "meusite-132ec",
            storageBucket: "meusite-132ec.appspot.com",
            messagingSenderId: "558888153171",
            appId: "1:558888153171:web:5845f24da583581aa556a6",
            measurementId: "G-4WW93D6ZD6"
        };

        // Inicializa Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        console.log("üî• Firebase inicializado sem erro!");

        // Captura o formul√°rio de contato
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("form-contato");
            const mensagemSucesso = document.getElementById("mensagem-sucesso");

            if (form) {
                form.addEventListener("submit", async function (event) {
                    event.preventDefault(); // Evita recarregar a p√°gina

                    // Captura os valores do formul√°rio
                    const nome = document.getElementById("nome").value;
                    const email = document.getElementById("email").value;
                    const mensagem = document.getElementById("mensagem").value;

                    try {
                        // Salva os dados no Firestore
                        await db.collection("mensagens").add({
                            nome: nome,
                            email: email,
                            mensagem: mensagem,
                            timestamp: new Date()
                        });

                        console.log("‚úÖ Dados enviados para o Firestore com sucesso!");

                        // Exibe mensagem de sucesso
                        mensagemSucesso.style.display = "block";
                        form.reset();

                        // Redireciona para a p√°gina "Obrigado" ap√≥s 2 segundos
                        setTimeout(() => {
                            window.location.href = "obrigado.html";
                        }, 2000);
                    } catch (error) {
                        console.error("‚ùå Erro ao conectar com Firestore:", error);
                    }
                });
            } else {
                console.error("‚ùå ERRO: Formul√°rio n√£o encontrado!");
            }
        });
    </script>

</body>
</html>